{% extends "src/Bowling/Resources/views/layout.html.twig" %}

{% set menu = 'Entrainements' %}
{%set titre = 'journée' %}

{% block breadcrumb %}
    {{ parent() }}
    {#    <li>{{ menu }}</li>#}
    <li>{{ titre }}</li>
    <li>Consultation</li>
    {% endblock %}

{% block content %}
    <h3>Consultation de{{ nbRecords > 0 ? 's' : ''}} {{ nbRecords }} {{ titre }}{{ nbRecords > 0 ? 's' : ''}} d'entrainement</h3>

    <div class="table-responsive">
        <table id="dataTable" class="table table-bordered table-hover compact">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Score</th>
                    <th>X</th>
                    <th>/</th>
                    <th>Ex.My</th>
                    <th>Carnet</th>
                    <th>7/10</th>
                </tr>
            </thead>
            {# pour chaque journée#}
            {% for jnee in records %}
                {# pour chaque série #}
                {% for serie in jnee.series %}
                    {# pour chaque score #}
                    {% for score in serie.scores %}
                        {% if score.septDix == TRUE %}
                            <tr>
                                <td class="text-center">{{ serie.dateSerie|strftime('%Y/%m/%d %a') }}</td>
                                <td class="text-center w1">{{ (score.score) }}</td>
                                <td class="text-center w1">{{ (score.strike) }}</td>
                                <td class="text-center w1">{{ (score.spare) }}</td>
                                <td class="text-center">
                                    {% if score.pasCalculMoyenne == TRUE %}
                                        <span class="glyphicon glyphicon-ok"></span>
                                    {% endif %}
                                </td>
                                <td class="text-center">
                                    {% if score.surCarnetEntrainement == TRUE %}
                                        <span class="glyphicon glyphicon-ok"></span>
                                    {% endif %}
                                </td>
                                <td class="text-center">
                                    {% if score.septDix == TRUE %}
                                        <span class="glyphicon glyphicon-ok"></span>
                                    {% endif %}
                                </td>
                            </tr>
                        {% endif %}
                    {% else %}
                        <tr>
                            <td class="text-center"
                                colspan="3">
                                Pas de score
                            </td>
                        </tr>
                    {% endfor %}
                    {# Fin score #}
                {% endfor %}
                {# Fin série #}
                </tr>
            {% else %}
                <tr>
                    <td class="text-center"
                        colspan="33">
                        <b>Pas de journée sur cette saison</b>
                    </td>
                </tr>
            {% endfor %}
            {# Fin journée #}
            </tbody>
        </table>
    </div>
{% endblock %}
