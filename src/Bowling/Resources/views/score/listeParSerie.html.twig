{% extends "src/Bowling/Resources/views/layout.html.twig" %}

{% set menu = 'score' %}
{% set route = 'score' %}

{% block breadcrumb %}
    {{ parent() }}
    <li>{{ menu }}</li>
    <li>Scores</li>
    {% endblock %}

{% block content %}
    <h3>Scores par série</h3>

    <div class="table-responsive">
        <table class="table table-bordered table-hover">
            <thead>
                <tr>
                    <th rowspan="2">Date</th>
                        {% for i in 1 .. 5 %}
                        <th colspan="7">Série {{ i }}</th>
                        {% endfor %}
                    <th rowspan="2">Evènement</th>
                </tr>
                <tr>
                    {% for i in 1 .. 5 %}
                        <th>sr</th>
                        <th>Pts</th>
                        <th>X</th>
                        <th>/</th>
                        <th>S</th>
                        <th>G</th>
                        <th>H</th>
                    {% endfor %}
                </tr>
            </thead>
            {% for record in records %}
                {% if record.PasCalculMoyenne != TRUE %}
                    <tr>
                        <td class="text-center w1">{# {{ record.datePartie|date('D d/m/Y') }}#}</td>
                        {#                                            <td class="text-center w1"> {{ record.datePartie|localizeddate('medium') }}</td>#}
                        <td class="text-center w1">{{ dump(record) }}</td>
                        <td class="text-center w1">{{ record.score }}</td>
                        <td class="text-center w1">{{ record.strike }}</td>
                        <td class="text-center w1">{{ record.spare }}</td>
                        <td class="text-center w1">{{ record.split }}</td>
                        <td class="text-center">
                            {% if record.gagnee== TRUE %}
                                <span class="glyphicon glyphicon-ok"></span>
                            {% endif %}
                        </td>
{#                        <td class="text-center w1"> {{ record.handicap }}</td>#}
                        <td class="text-left w1">
                            {{ record.evenement.typeJeu.typeJeu is null ? '-' : record.evenement.typeJeu.typeJeu }} 
                            {{ record.evenement.bowling is null ? '--' : record.evenement.bowling.nom }}
                        </td>
                    </tr>
                {% endif %}
            {% endfor %}
            </tbody>
        </table>
    </div>

{% endblock %}
